<!doctype html>
<html lang="en" data-bs-theme="light" data-density="comfortable">
<head>
  <meta charset="utf-8">
  <title>{% block title %}Portal{% endblock %}</title>
  <meta name="csrf-token" content="{{ csrf_token() }}">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ asset_url('app.css') }}">
</head>
<body>
<a href="#main-content" class="skip-link">Skip to main content</a>
<script>
  (function() {
    const lang = localStorage.getItem('pref-language');
    if (lang) document.documentElement.lang = lang;
    const theme = localStorage.getItem('pref-theme');
    if (theme) document.documentElement.setAttribute('data-bs-theme', theme);
    const density = localStorage.getItem('pref-density');
    if (density) document.documentElement.setAttribute('data-density', density);
  })();
</script>
<header role="banner">
  {% block header %}
  {% include 'partials/_header.html' %}
  {% endblock %}
</header>
<div class="container">
  <div class="row">
    <aside class="col-md-2 d-none d-md-block bg-light sidebar" aria-label="Sidebar">
      {% block sidebar %}
      {% include 'partials/_sidebar.html' %}
      {% endblock %}
    </aside>
    <main id="main-content" class="col-md-9 ms-sm-auto col-lg-10 px-md-4" tabindex="-1">
      {% include 'partials/_breadcrumbs.html' %}
      <div class="d-flex justify-content-end mb-3">
        {% block page_actions %}{% endblock %}
      </div>
      {% block content %}{% endblock %}
    </main>
  </div>
</div>
{% include 'partials/_toasts.html' %}
{% include 'partials/_skeleton.html' %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ asset_url('app.js') }}" defer></script>
<script>
  document.body.addEventListener('htmx:configRequest', function (event) {
    var token = document.querySelector('meta[name="csrf-token"]').getAttribute('content');
    event.detail.headers['X-CSRFToken'] = token;
  });
</script>
</body>
</html>
