{% for step in steps %}
<tr id="step-{{ step.id }}" data-step-id="{{ step.id }}">
  <td><input type="checkbox" class="form-check-input step-checkbox" name="step_ids" value="{{ step.id }}"></td>
  <td>{{ step.document.title }}</td>
  <td>{{ step.step_order }}</td>
  <td>{{ step.step_type.title() }}</td>
  <td class="status">{{ step.status }}</td>
  <td>
    {% if step.status == 'Pending' %}
    <button class="btn btn-success btn-sm" data-bs-toggle="modal" data-bs-target="#approveModal-{{ step.id }}">Approve</button>
    <button class="btn btn-danger btn-sm" data-bs-toggle="modal" data-bs-target="#rejectModal-{{ step.id }}">Reject</button>
    {% with action='approve' %}{% include 'partials/approvals/_modal.html' %}{% endwith %}
    {% with action='reject' %}{% include 'partials/approvals/_modal.html' %}{% endwith %}
    {% else %}
    {{ step.status }}
    {% endif %}
  </td>
</tr>
{% else %}
<tr><td colspan="6" class="text-center">No pending approvals.</td></tr>
{% endfor %}
