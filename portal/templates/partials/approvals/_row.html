<tr id="step-{{ step.id }}">
  <td><a href="{{ url_for('approval_detail', id=step.id) }}">{{ step.document.title }}</a></td>
  <td>{{ step.step_order }}</td>
  <td>{{ step.step_type.title() }}</td>
  <td>{{ step.status }}</td>
  <td>{{ step.comment or '' }}</td>
  <td>
    {% if step.status == 'Pending' %}
    <button id="approve-{{ step.id }}" class="btn btn-success btn-sm" hx-post="/api/approvals/{{ step.id }}/approve" hx-target="#step-{{ step.id }}" hx-swap="outerHTML" title="Approve this step">Approve</button>
    <button id="reject-{{ step.id }}" class="btn btn-danger btn-sm" hx-post="/api/approvals/{{ step.id }}/reject" hx-target="#step-{{ step.id }}" hx-swap="outerHTML" title="Reject this step">Reject</button>
    <script type="module">
      import { attachTooltip } from '/static/src/forms/index.js';
      attachTooltip(document.getElementById('approve-{{ step.id }}'), 'Approve this step');
      attachTooltip(document.getElementById('reject-{{ step.id }}'), 'Reject this step');
    </script>
    {% else %}
    {{ step.status }}
    {% endif %}
  </td>
</tr>
