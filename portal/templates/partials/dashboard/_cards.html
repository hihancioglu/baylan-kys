{% macro render_items(items, empty_text) %}
  {% if items %}
    <ul class="list-unstyled mb-0">
    {% for item in items %}
      {% if item[1] is defined %}
        <li><a href="{{ item[1] }}">{{ item[0] }}</a></li>
      {% else %}
        <li>{{ item }}</li>
      {% endif %}
    {% endfor %}
    </ul>
  {% else %}
    <p class="text-muted mb-0">{{ empty_text }}</p>
  {% endif %}
{% endmacro %}

{% if request.headers.get('HX-Request') %}
  {% if card == 'pending' %}
    {{ render_items(pending_approvals, 'No pending approvals.') }}
  {% elif card == 'mandatory' %}
    {{ render_items(mandatory_reading, 'No mandatory documents.') }}
  {% elif card == 'recent' %}
    {{ render_items(recent_revisions, 'No recent changes.') }}
  {% elif card == 'shortcuts' %}
    {{ render_items(search_shortcuts, 'No search shortcuts available.') }}
  {% endif %}
{% else %}
  <div
    hx-get="/api/dashboard/cards/{{ card }}"
    hx-trigger="load, every 10s"
    hx-swap="innerHTML"
  >
    <div class="placeholder-glow">
      <span class="placeholder col-12 mb-2"></span>
      <span class="placeholder col-12 mb-2"></span>
      <span class="placeholder col-12 mb-2"></span>
    </div>
  </div>
{% endif %}

